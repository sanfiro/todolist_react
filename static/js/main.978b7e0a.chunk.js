(this["webpackJsonptodolist-react"]=this["webpackJsonptodolist-react"]||[]).push([[0],{27:function(t,e,n){t.exports={container:"TodoListPage_container__2CnHF"}},28:function(t,e,n){t.exports=n(55)},33:function(t,e,n){},5:function(t,e,n){t.exports={title:"TodoForm_title__ZsAQK",form:"TodoForm_form__SZ7i3",todo_input:"TodoForm_todo_input__25aom",btn:"TodoForm_btn__19fyb"}},55:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(26),c=n.n(a),u=(n(33),n(15)),i=n(2),s=n.n(i),l=n(4),d=n(7),p=n(8),f=n.n(p),_="http://localhost:9999",m={getTodos:function(){return v.apply(this,arguments)},addTodo:function(t){return E.apply(this,arguments)},removeTodo:function(t){return T.apply(this,arguments)},updateTodo:function(t,e){return O.apply(this,arguments)},completeTodo:function(t){return b.apply(this,arguments)}};function v(){return(v=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("".concat(_,"/todos"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=Object(l.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post("".concat(_,"/todos"),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return(T=Object(l.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.delete("".concat(_,"/todos/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(l.a)(s.a.mark((function t(e,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.put("".concat(_,"/todos/").concat(e),n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=Object(l.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("".concat(_,"/todos/complete/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var h=n(14),x=n(12),S=n(5),C=n.n(S),k=function(t){var e=t.edit,n=t.onSubmit,a=Object(o.useState)(e?e.value:""),c=Object(d.a)(a,2),u=c[0],i=c[1],s=Object(o.useRef)(null);Object(o.useEffect)((function(){s.current.focus()}));var l=function(t){var e=t.target.value;i(e)},p=function(t){t.preventDefault(),n({id:Math.floor(1e4*Math.random()),text:u}),i("")};return r.a.createElement(r.a.Fragment,null,!e&&r.a.createElement("h1",{className:C.a.title},"What's the plan for today?"),r.a.createElement("form",{onSubmit:function(){return null},className:C.a.form},e?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",placeholder:"Update todo",value:u,onChange:l,name:"text",className:C.a.todo_input,ref:s}),r.a.createElement("button",{onClick:p,className:C.a.btn},"Update")):r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",placeholder:"Add a todo",value:u,onChange:l,name:"text",className:C.a.todo_input,ref:s}),r.a.createElement("button",{onClick:p,className:C.a.btn},"Add todo"))))},w=n(6),j=n.n(w),P=function(t){var e=t.todo,n=t.index,a=t.completeTodo,c=t.removeTodo,u=t.updateTodo,i=Object(o.useState)({id:null,value:""}),s=Object(d.a)(i,2),l=s[0],p=s[1];return l.id?r.a.createElement(k,{edit:l,onSubmit:function(t){u(l.id,t),p({id:null,value:""})}}):r.a.createElement("div",{className:e.isComplete?j.a.todo_complete:j.a.todo,style:{backgroundColor:function(t,e,n){for(var o=0,r=0;r<t.length;r++)o=t.charCodeAt(r)+((o<<5)-o);return"hsl("+o%360+", "+e+"%, "+n+"%)"}(e.text,50,50)},key:n},r.a.createElement("div",{key:e.id,onClick:function(){return a(e.id)},className:j.a.text},e.text),r.a.createElement("div",{className:j.a.iconContainer},r.a.createElement(x.a,{icon:h.a,onClick:function(){return p({id:e.id,value:e.text})},className:j.a.icon}),r.a.createElement(x.a,{icon:h.b,onClick:function(){return c(e.id)},className:j.a.icon})))},R=n(27),y=n.n(R),g=function(){var t=Object(o.useState)([]),e=Object(d.a)(t,2),n=e[0],a=e[1];function c(){return(c=Object(l.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.getTodos();case 3:e=t.sent,a(e.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}Object(o.useEffect)((function(){Object({NODE_ENV:"production",PUBLIC_URL:"/todolist_react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SERVER&&function(){c.apply(this,arguments)}()}),[]);var i=function(){var t=Object(l.a)(s.a.mark((function t(e,n){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.text&&!/^\s*$/.test(n.text)){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,m.updateTodo(e,n);case 5:o=t.sent,a(o.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=Object(l.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.text&&!/^\s*$/.test(e.text)){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,m.addTodo(e);case 5:n=t.sent,a(n.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(l.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.removeTodo(e);case 3:n=t.sent,a(n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(l.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.completeTodo(e);case 3:n=t.sent,a(n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),v=function(t){var e=Object(u.a)(n).filter((function(e){return e.id!==t}));a(e)},E=function(t){var e=n.map((function(e){return e.id===t&&(e.isComplete=!e.isComplete),e}));a(e)},T=function(t,e){e.text&&!/^\s*$/.test(e.text)&&a((function(n){return n.map((function(n){return n.id===t?e:n}))}))};return r.a.createElement("div",{className:y.a.container},r.a.createElement(k,{onSubmit:Object({NODE_ENV:"production",PUBLIC_URL:"/todolist_react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SERVER?p:function(t){if(t.text&&!/^\s*$/.test(t.text)){var e=[t].concat(Object(u.a)(n));a(e)}}}),null===n||void 0===n?void 0:n.map((function(t,e){return r.a.createElement(P,{todo:t,removeTodo:Object({NODE_ENV:"production",PUBLIC_URL:"/todolist_react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SERVER?f:v,completeTodo:Object({NODE_ENV:"production",PUBLIC_URL:"/todolist_react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SERVER?_:E,updateTodo:Object({NODE_ENV:"production",PUBLIC_URL:"/todolist_react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SERVER?i:T,index:e})})))};var D=function(){return r.a.createElement(g,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},6:function(t,e,n){t.exports={todo:"Todo_todo__rAGDf",todo_complete:"Todo_todo_complete__294do",icon:"Todo_icon__2_lKK",text:"Todo_text__1Qnex"}}},[[28,1,2]]]);
//# sourceMappingURL=main.978b7e0a.chunk.js.map